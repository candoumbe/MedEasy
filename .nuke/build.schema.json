{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Build Schema",
  "$ref": "#/definitions/build",
  "definitions": {
    "build": {
      "type": "object",
      "properties": {
        "AutoStash": {
          "type": "boolean",
          "description": "Indicates if any changes should be stashed automatically prior to switching branch (Default : true)"
        },
        "Configuration": {
          "type": "string",
          "description": "Configuration to build - Default is 'Debug' (local) or 'Release' (server)",
          "enum": [
            "Debug",
            "Release"
          ]
        },
        "Continue": {
          "type": "boolean",
          "description": "Indicates to continue a previously failed build attempt"
        },
        "GitHubToken": {
          "type": "string",
          "description": "Token required when publishing artifacts to GitHub"
        },
        "Help": {
          "type": "boolean",
          "description": "Shows the help text for this build assembly"
        },
        "Host": {
          "type": "string",
          "description": "Host for execution. Default is 'automatic'",
          "enum": [
            "AppVeyor",
            "AzurePipelines",
            "Bamboo",
            "Bitrise",
            "GitHubActions",
            "GitLab",
            "Jenkins",
            "SpaceAutomation",
            "TeamCity",
            "Terminal",
            "TravisCI"
          ]
        },
        "Interactive": {
          "type": "boolean",
          "description": "Indicates wheter to restore nuget in interactive mode - Default is false"
        },
        "NoLogo": {
          "type": "boolean",
          "description": "Disables displaying the NUKE logo"
        },
        "NugetApiKey": {
          "type": "string",
          "description": "API key used to publish artifacts to Nuget.org"
        },
        "NugetPackageSource": {
          "type": "string",
          "description": "URI where packages should be published (default : \"https://api.nuget.org/v3/index.json\""
        },
        "Plan": {
          "type": "boolean",
          "description": "Shows the execution plan (HTML)"
        },
        "Profile": {
          "type": "array",
          "description": "Defines the profiles to load",
          "items": {
            "type": "string"
          }
        },
        "Root": {
          "type": "string",
          "description": "Root directory during build execution"
        },
        "Services": {
          "type": "array",
          "description": "Defines which services should start when calling 'run' command (agenda, identity, documents, patients, measures).You can also use 'backends' to start all apis or 'datastores' to start all databases at once)",
          "items": {
            "type": "string",
            "enum": [
              "Agenda",
              "Backends",
              "Datastores",
              "Documents",
              "Identity",
              "Measures",
              "Patients"
            ]
          }
        },
        "Skip": {
          "type": "array",
          "description": "List of targets to be skipped. Empty list skips all dependencies",
          "items": {
            "type": "string",
            "enum": [
              "Changelog",
              "Clean",
              "CleanDatabaseFolder",
              "Compile",
              "Feature",
              "Hotfix",
              "IntegrationTests",
              "Pack",
              "Publish",
              "Release",
              "Restore",
              "Run",
              "Tests",
              "TyeInstall",
              "TypeScriptModels",
              "UnitTests",
              "UpdateDatabases"
            ]
          }
        },
        "Solution": {
          "type": "string",
          "description": "Path to a solution file that is automatically loaded"
        },
        "Target": {
          "type": "array",
          "description": "List of targets to be invoked. Default is '{default_target}'",
          "items": {
            "type": "string",
            "enum": [
              "Changelog",
              "Clean",
              "CleanDatabaseFolder",
              "Compile",
              "Feature",
              "Hotfix",
              "IntegrationTests",
              "Pack",
              "Publish",
              "Release",
              "Restore",
              "Run",
              "Tests",
              "TyeInstall",
              "TypeScriptModels",
              "UnitTests",
              "UpdateDatabases"
            ]
          }
        },
        "TestPartition": {
          "type": "string"
        },
        "UpdateConnectionString": {
          "type": "boolean",
          "description": "Indicates if the connection strings should be updated in appsettings.integrationtest.json file (Default = true)"
        },
        "Verbosity": {
          "type": "string",
          "description": "Logging verbosity during build execution. Default is 'Normal'",
          "enum": [
            "Minimal",
            "Normal",
            "Quiet",
            "Verbose"
          ]
        },
        "Watch": {
          "type": "boolean",
          "description": "Indicates to watch code source changes. Used when calling 'run' target"
        }
      }
    }
  }
}